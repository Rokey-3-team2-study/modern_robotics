# Modern Robotics

## Chapter 9. Trajectory Generation, 궤적 생성

### 9.1 Definitions, 용어 정의

- 궤적
	- 경로 : ${\theta(s)}$, 로봇이 따라야 하는 기하학적 경로
	- 시간 스케일링 : ${s(t)}$, 로봇이 특정 경로를 따라 움직이는 시간적 정보를 정의

### 9.2 Point-to-Point Trajectories, 점대점 궤적

- 표현식 (Fig 9.1, p.345)
	- 경로 : ${\theta(s) : [0, 1] \rightarrow \mathbb{R}^n}$
		- 관절 공간 : ${\theta(s) = \theta_{start} + s(\theta_{end} - \theta_{start})}$
		- 태스크 공간 : ${X(s) = X_{start} + s(X_{end} - X_{start})}$
			- ${X(s) = X_{start}\exp{(\log{(X^-1_{start}X_{end})s})}}$
				- ${p(s) = p_{start} + s(p_{end} - p_{start})}$
				- ${R(s) = R_{start} \exp{(\log{(R^-1_{start}R_{end})s})}}$
	- 시간 스케일링 : ${s(t) : [0, T]}$
		- 속도 : ${\dot{\theta} = \displaystyle\frac{d\theta}{ds} \dot{s}}$
		- 가속도 : ${\ddot{\theta} = \displaystyle\frac{d\theta}{ds} \ddot{s} + \frac{d^2\theta}{ds^2} \dot{s}^2}$

- 시간 스케일링
	- 정적 : ${s(t) = \displaystyle\frac{t}{T}}$
	- 다항식 (Fig 9.3, p.347), (Fig 9.4, p.349)
		- 3차 : ${s(t) = a_0 + a_1t + a_2t^2 + a_3t^3}$
		- 5차 : ${s(t) = a_0 + a_1t + a_2t^2 + a_3t^3 + a_4t^4 + a_5t^5}$
	- 사다리꼴 (Fig 9.5, p.349)
		- 가속 : ${[0, t_a], \ddot{s}=a}$
		- 정속 : ${[t_a, T-t_a], \dot{s}=v, v = at_a}$
		- 감속 : ${[T-t_a, T], \ddot{s}=-a}$
	- S-커브 (Fig 9.6, p.351) : 사다리꼴에서 ${t=0, t=T}$ 일때, "가가속도"를 0으로 만들어줘야 한다.

<div align="center">
	<img src="image.png">
</div>

> 단순히 경로만 고려하면 안된다.
> - 가속도 변화량(가가속도)에 따라 진동 발생 가능
> - 너무 느리면 비효율적

### 9.3 Polynomial Via Point Trajectories, 다항식 경유점 궤적

### 9.4 Time-Optimal Time Scaling, 시간 최적의 시간 스케일링